<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auth Test</title>
</head>

<body>

    <main>

        <a id="oauth" href="#"> Login </a>

    </main>

    <script>
        require('dotenv').config();
        let URL = "https://github.com/login/oauth/authorize";

        let options = {
            client_id: process.env.CLIENT_ID,
            redirect_uri: 'http://localhost:3000/oauth',
            scope: 'read:user',
            state: process.env.STATE
        }

        let QueryString = Object.keys(options).map((key) => {
            return `${key}=` + encodeURIComponent(options[key]);
        }).join("&");

        let authRequest = `${URL}?${QueryString}`;

        let link = document.getElementById('oauth');
        link.setAttribute('href', authRequest);

    </script>

</body>

</html>